#!/usr/bin/env ruby

unless defined? JRUBY_VERSION
  raise "This application must be run under JRuby"
end

require 'optparse'

options = {}
OptionParser.new do |opts|
  opts.banner = "Usage: magnetizer [options] file"

  opts.on("-v", "--[no-]verbose", "Run verbosely") do |v|
    options[:verbose] = v
  end

  opts.on_tail("-h", "--help", "Show this message") do
    puts opts
    exit
  end
end.parse!

file = ARGV.first

puts "Running the magnetizer on #{file}"

require "lib/magnetizer.rb"

puts "After running"
